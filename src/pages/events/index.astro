---
import Layout from "../../layouts/Layout.astro";
import HeroSection from "~/components/partials/HeroSection.astro";
import { blogSearchFilter, paginate } from "~/lib";
import { CollectionEntry, getCollection } from "astro:content"
import type { iBlog } from "~/types";
import BlogCard from "~/components/partials/BlogCard.astro";
import SearchAndStatus from "~/components/partials/SearchAndStatus.astro";
import Pagination from "~/components/partials/Pagination.astro"

// const entries = Object.fromEntries(Astro.url.searchParams.entries());
// const search = entries["search"] || ""
// const page = entries["page"] || "1"

// const allBlogPosts:CollectionEntry<"blog">[] = await getCollection("blog", ({ data, body }) => {
//   return blogSearchFilter(data as iBlog, search, body)
// })

// const list = allBlogPosts
// .filter(blog => blog.data.active)
// .sort((a, b) => +new Date(b.data.date) - +new Date(a.data.date))

// const pageProps = paginate({ list, page, url: Astro.url, size: 8 }) 

const keywords = [
  "events"
]
---

<Layout title=`Events | ${Constants.SITENAME}`, keywords={keywords}>
  <HeroSection
    header="All APBN Events"
    showCta={false}
    subline="Unleashing Excellence: Explore All APBN Events - Connecting Nigeria's Professional Minds." />
</Layout>